<div class="container-fluid" >


  <div class="modal fade" id="profileModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="profileModalLabel">Mise à jour de profil</h5>
          <button type="button" class="btn-close" (click)="closeClick()" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <app-add_edit_profil_infos *ngIf="modopen" [profil]="this.profil">
          </app-add_edit_profil_infos>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="exampleModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Historique des avancements</h5>
          <button type="button" class="btn-close" (click)="closeClick()" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <app-show_grades *ngIf="modopen" [grade]="this.grade">
          </app-show_grades>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="AffModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="AffModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="AffModalLabel">Historique des affectations</h5>
            <button type="button" class="btn-close" (click)="closeClick()" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <app-show_affectations *ngIf="modopen" [aff]="this.aff">
            </app-show_affectations>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="fonctModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="fonctModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="fonctModalLabel">Historique des fonctions</h5>
          <button type="button" class="btn-close" (click)="closeClick()" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <app-show_fonctions *ngIf="modopen" [fonct]="this.fonct">
          </app-show_fonctions>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="ConjointModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="ConjointModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ConjointModalLabel">Historique de la situation familiale</h5>
          <button type="button" class="btn-close" (click)="closeClick()" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <app-show_sit_familiale *ngIf="modopen" [conjoint]="this.conjoint">
          </app-show_sit_familiale>
        </div>
      </div>
    </div>
  </div>

      <div class="main-body">
        <div class="row gutters-sm">
          <div class="col-md-4 mb-3">
            <div class="card">
              <div class="card-body">
                <div class="d-flex flex-column align-items-center text-center">
                  <img [src]="imagePath" alt="Photo Inexistante" class="rounded-circle" width="130">
                  <div class="mt-3">
                    <span class="text-secondary mb-1">DDP : {{DDP}}</span>  |  <span class="text-secondary mb-1">CIN : {{CIN}}</span>   |   <i class="fas fa-edit" style="color:#5aa1cf" (click)="ShowProfil(this.agent.DDP)"  data-bs-toggle="modal"  data-bs-target="#profileModal"></i>
                  </div>
                </div>
              </div>
            </div>
            <div class="card mt-3">
              <ul class="list-group list-group-flush">
                <li class="list-group-item">
                  <h6 class="mb-0">Retraite</h6>
                  <span class="text-secondary">{{RETRAITE}}</span> | N° <span class="text-secondary">{{RCAR}}</span>
                </li>
                <li class="list-group-item">
                  <h6 class="mb-0">Banque</h6>
                  <span class="text-secondary">{{BANQUE}}</span>
                </li>
                <li class="list-group-item">
                  <h6 class="mb-0">RIB</h6>
                  <span class="text-secondary">{{RIB}}</span>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-md-8">
            <div class="card mb-3">
                <ul class="list-group list-group-flush">
                  <div class="row">
                      <div class="col-2 text-white">
                      </div>
                      <div class="col-8 text-white">
                          <ng-select [items]="AgentList" name="agent" placeholder="Recherche Agent" bindLabel="NOM_PRENOM" [virtualScroll]="true" [hidden]="CATEGORIE_AGENT == 'AGENT'" [(ngModel)]="agent" (change)="choixagent(agent)" (clear)="vider()">
                            <ng-template ng-label-tmp ng-option-tmp let-item="item">
                              {{item.DDP + " : " + item.NOM_PRENOM}}
                          </ng-template>
                          </ng-select>
                      </div>
                    <div class="col-2 text-white">
                    </div>
                  </div>
                  <p></p>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0">Nom & Prénom</h6>
                    <span class="text-secondary">{{NOM}}</span>
                    <h6 class="mb-0">  الاسم والنسب</h6>
                    <span class="text-secondary">{{NOMAR}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0">Date Naissance</h6>
                    <span class="text-secondary">{{DNAISSANCE}}</span>
                  <!-- </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"> -->
                    <h6 class="mb-0">Date Recrutement</h6>
                    <span class="text-secondary">{{DRECRUTE}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"> <i class="fas fa-list-ul" style="color:#00cc6a" (click)="ShowConjoint(this.agent.DDP)" data-bs-toggle="modal"  data-bs-target="#ConjointModal"></i>  Situation Familiale</h6>
                    <span class="text-secondary">{{SITFAMILLE}}</span>
                  <!-- </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"> -->
                    <h6 class="mb-0">Nombre d'enfants</h6>
                    <span class="text-secondary">{{ENFANTS}}</span>
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0">Adresse</h6>
                    <span class="text-secondary">{{ADRESSE}}</span>
                  </li>

                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0">Date Sortie</h6>
                    <span class="text-secondary">{{DSORTIE}}</span>
                  <!-- </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap"> -->
                    <h6 class="mb-0">Motif Sortie</h6>
                    <span class="text-secondary">{{MOTIF_SORTIE}}</span>
                  </li>
                </ul>
              <!-- </div> -->
            </div>

            <!-- <div class="row gutters-sm"> -->
              <!-- <div class="col-sm-6 mb-3"> -->
                <div class="card mt-3">
                  <!-- <div class="card-body"> -->
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">
                        <h6 class="mb-0"><i class="fas fa-list-ul" style="color:#00cc6a" (click)="ShowGrades(this.agent.DDP)" data-bs-toggle="modal"  data-bs-target="#exampleModal"></i>  Grade</h6>
                        <span class="text-secondary">{{GRADE}}</span>, <span class="text-secondary">Echelle {{ECHELLE}} depuis le {{DEFFET_GRADE}}, Echelon {{ECHELON}} depuis le {{DEFFET_ECHELON}}</span><span class="text-secondary" [hidden]="GRADE == ''"></span>
                      </li>
                      <li class="list-group-item">
                        <h6 class="mb-0"><i class="fas fa-list-ul" style="color:#00cc6a" (click)="ShowAff(this.agent.DDP)" data-bs-toggle="modal"  data-bs-target="#AffModal"></i>  Affectation</h6>
                        <span class="text-secondary">{{AFFECTATION}}</span><span class="text-secondary" [hidden]="AFFECTATION == ''"> depuis le {{DEFFET_AFF}}</span>
                      </li>
                      <li class="list-group-item">
                        <h6 class="mb-0"><i class="fas fa-list-ul" style="color:#00cc6a" (click)="ShowFonction(this.agent.DDP)" data-bs-toggle="modal"  data-bs-target="#fonctModal"></i>  Fonction</h6>
                        <span class="text-secondary">{{FONCTION}}</span><span class="text-secondary" [hidden]="FONCTION == ''"> depuis le {{DEFFET_FONCTION}}</span>
                      </li>
                    </ul>
                  </div>
          </div>
        </div>
      </div>



